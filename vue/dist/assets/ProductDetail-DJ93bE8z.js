import{_ as B,u as F,c,a as N,b as L,d as $,e as n,f as g,g as s,h as j,w as D,r as Q,i as T,F as x,j as V,t as r,k as M,l as S,m as Z,n as i,o as l,p as A}from"./index-CB1XKhWS.js";const H="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M35.9375%2023.4375H19.3969L25.8375%2017C26.4469%2016.3906%2026.4469%2015.4062%2025.8375%2014.7812C25.2266%2014.1718%2024.2375%2014.1718%2023.6266%2014.7812L14.7875%2023.625C14.414%2024%2014.2969%2024.5156%2014.3828%2025C14.2969%2025.4844%2014.414%2026%2014.7875%2026.375L23.6266%2035.2188C24.2375%2035.8282%2025.2266%2035.8282%2025.8375%2035.2188C26.4469%2034.6094%2026.4469%2033.6094%2025.8375%2033L19.3969%2026.5625H35.9375C36.8%2026.5625%2037.5%2025.8594%2037.5%2025C37.5%2024.1406%2036.8%2023.4375%2035.9375%2023.4375ZM25%2046.875C12.9187%2046.875%203.125%2037.0781%203.125%2025C3.125%2012.9219%2012.9187%203.125%2025%203.125C37.0812%203.125%2046.875%2012.9219%2046.875%2025C46.875%2037.0781%2037.0812%2046.875%2025%2046.875ZM25%200C11.1937%200%200%2011.1875%200%2025C0%2038.8125%2011.1937%2050%2025%2050C38.8063%2050%2050%2038.8125%2050%2025C50%2011.1875%2038.8063%200%2025%200Z'%20fill='%23005DFF'/%3e%3c/svg%3e",P={class:"container mx-auto px-4 relative"},R={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-10 items-start"},q=["src","alt"],z={class:"flex gap-1 mb-2"},E={class:"text-2xl md:text-3xl font-semibold mb-4"},G={class:"text-base md:text-lg mb-8 text-primary3 font-medium"},J={class:"text-lg md:text-xl mb-2"},K={class:"text-2xl md:text-3xl"},O={key:0,class:"flex justify-between items-center w-full mt-3.5"},U={key:0},W={key:1,class:"flex items-center gap-3 mt-9"},X={key:1},Y={__name:"ProductDetail",props:{id:{type:[String,Number],required:!1}},setup(tt){const d=F(),f=Number(d.params.id),_=c(()=>{const e=d.path.split("/").filter(Boolean)[0];return e==="1c-gos"?N:e==="1c-zdravoohrana"?L:e==="1c-services"?$:[]}),o=c(()=>_.value.find(e=>e.id===f)||null),m=i("cart"),C=i("addToCart"),p=i("updateCartItemQuantity"),b=i("removeFromCart"),v=e=>m.value.some(t=>t.id===e.id),u=e=>m.value.find(t=>t.id===e.id),y=e=>{v(e)||C({...e,count:1})},h=e=>{const t=u(e);t&&p(t.id,t.count+1)},w=e=>{const t=u(e);t&&(t.count>1?p(t.id,t.count-1):b(t.id))},k=c(()=>{const e=d.path.split("/").filter(Boolean);return e.length>0?`/${e[0]}`:"/"});return(e,t)=>{const I=Q("router-link");return l(),n(x,null,[g(j),s("main",null,[s("section",null,[s("div",P,[s("div",null,[g(I,{to:k.value},{default:D(()=>t[3]||(t[3]=[s("img",{src:H,alt:"back",class:"absolute top-20 cursor-pointer"},null,-1)])),_:1,__:[3]},8,["to"])]),t[7]||(t[7]=s("h2",{class:"font-bold text-4xl mb-10"},"Программные продукты",-1)),o.value?(l(),n("div",R,[s("div",null,[s("img",{src:o.value.img,alt:o.value.title,class:"w-full max-w-full object-contain"},null,8,q)]),s("div",null,[s("div",z,[(l(!0),n(x,null,V(o.value.rating,a=>(l(),n("div",{key:a},t[4]||(t[4]=[s("img",{class:"w-6 h-6",src:A,alt:"rating"},null,-1)])))),128))]),s("h3",E,r(o.value.title),1),s("p",G,r(o.value.desc),1),s("p",J,[t[5]||(t[5]=M(" Цена: от ")),s("strong",K,r(o.value.price)+" ₽",1)]),S(Z)?(l(),n("div",O,[v(o.value)?(l(),n("div",W,[s("button",{onClick:t[1]||(t[1]=a=>w(o.value)),class:"w-10 h-10 bg-gray-200 rounded hover:bg-gray-300 text-xl font-bold",type:"button"}," − "),s("span",null,r(u(o.value).count),1),s("button",{onClick:t[2]||(t[2]=a=>h(o.value)),class:"w-10 h-10 bg-gray-200 rounded hover:bg-gray-300 text-xl font-bold",type:"button"}," + ")])):(l(),n("div",U,[s("button",{class:"bg-primary2 py-2 px-8 cursor-pointer text-white font-medium rounded-lg text-[18px] mt-9 hover:bg-blue-700 transition",onClick:t[0]||(t[0]=a=>y(o.value))}," Добавить в корзину ")]))])):T("",!0)])])):(l(),n("div",X,t[6]||(t[6]=[s("p",null,"Товар не найден",-1)])))])])])],64)}}},st=B(Y,[["__scopeId","data-v-c153a3bd"]]);export{st as default};
